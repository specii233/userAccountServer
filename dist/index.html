<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/index.css">
    <script src="../script/index.js"></script>
</head>

<body>
    <!-- 顶部 -->
    <div class="frame" id="top-frame">
        <div id="menu"></div>
        <div id="top-options-group">
            <div>
                <button class="top-options">A</button>
            </div>
            <div>
                <button class="top-options">B</button>
            </div>
            <div>
                <button class="top-options">C</button>
            </div>
            <div>
                <button class="top-options">D</button>
            </div>
        </div>
    </div>

    <!-- 中部 -->
    <div class="frame" id="middle-frame">
        <div class="frame" id="form-frame">
            <form id="loginForm" action="/" method="post">
                <!-- 文本输入框 -->
                <label for="name">账号:</label>
                <input class="edit-box"type="text" id="name" name="name" required>
                <br>
                <!-- 密码输入框 -->
                <label for="password">密码:</label>
                <input class="edit-box" type="password" id="password" name="password" required>
                <br>
                <!-- 提交按钮 -->
                <input id="loginForm-submitButton"type="submit" value="Submit">
            </form>
            <div id="login-selections">
                <a>忘记密码</a><a>注册账号</a>
            </div>
        </div>
        <div id="imported"></div>
    </div>

    <!-- 底部 -->
    <div class="frame" id="bottom-frame">

    </div>

    <script src="bundle.js"></script>
    <script>
        document.getElementById("loginForm").addEventListener("submit", async (e) => {
            e.preventDefault(); // 阻止默认提交行为

            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());

            try {
                const response = await fetch("https://localhost:3000/login", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data),
                });

                const result = await response.json();
                alert(result.message); // 显示服务器返回的消息
            } catch (error) {
                alert("提交失败: " + error.message);
            }
        });
    </script>
</body>

</html>